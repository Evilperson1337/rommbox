<Window x:Class="RomMbox.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:RomMbox.UI.ViewModels"
        Title="RomM Server Configuration"
        Width="1180" Height="740"
        Background="{StaticResource BgBrush}"
        WindowStartupLocation="CenterScreen">

    <Window.DataContext>
        <vm:MainWindowViewModel/>
    </Window.DataContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="240"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="64"/>
        </Grid.RowDefinitions>

        <!-- LEFT NAV -->
        <Border Grid.RowSpan="2"
                Background="{StaticResource PanelBrush}">
            <DockPanel>

                <StackPanel DockPanel.Dock="Top" Margin="14,14,14,10">
                    <TextBlock Text="RomM" FontSize="18" FontWeight="SemiBold"/>
                    <TextBlock Text="Server Configuration"
                               Foreground="{StaticResource MutedTextBrush}"/>
                </StackPanel>

                <StackPanel DockPanel.Dock="Bottom" Margin="14,0,14,14">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Ellipse Width="10" Height="10"
                                 Fill="{Binding ConnectionDotBrush}"
                                 Margin="0,0,8,0"/>
                        <TextBlock Text="{Binding ConnectionStatusText}"
                                   Foreground="{Binding ConnectionStatusBrush}"/>
                    </StackPanel>
                </StackPanel>

                <ListBox Style="{StaticResource NavListBox}"
                         ItemContainerStyle="{StaticResource NavListBoxItem}"
                         SelectedIndex="{Binding SelectedNavIndex, Mode=TwoWay}">
                    <ListBoxItem Content="Connection" FontSize="24" FontWeight="Bold"/>
                    <ListBoxItem Content="Platforms" IsEnabled="{Binding IsServerConfigured}" FontSize="24" FontWeight="Bold"/>
                    <ListBoxItem Content="Games" IsEnabled="{Binding IsServerConfigured}" FontSize="24" FontWeight="Bold"/>
                    <ListBoxItem Content="Test" IsEnabled="{Binding IsServerConfigured}" FontSize="24" FontWeight="Bold"/>
                </ListBox>
            </DockPanel>
        </Border>

        <!-- CONTENT -->
        <Border Grid.Column="1"
                Background="{StaticResource ContentBrush}"
                Padding="20">
            <ContentControl Content="{Binding CurrentPage}"/>
        </Border>

        <!-- FOOTER -->
        <Border Grid.Row="1"
                Grid.Column="1"
                Background="{StaticResource PanelBrush}"
                Padding="14">
            <DockPanel LastChildFill="False">
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                    <Button Content="{Binding SecondaryButtonText}"
                            Command="{Binding SecondaryCommand}"
                            Visibility="{Binding SecondaryVisible}"
                            Margin="0,0,8,0"/>

                    <Button Content="Save"
                            Command="{Binding SaveCommand}"
                            Style="{StaticResource PrimaryButton}"/>
                </StackPanel>
            </DockPanel>
        </Border>
    </Grid>
</Window>
